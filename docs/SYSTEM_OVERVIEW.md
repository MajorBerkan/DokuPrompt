# CaffeineCode - System-Ãœbersicht

## ğŸ—ï¸ Architektur-Diagramm

### GesamtÃ¼bersicht

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EXTERNE WELT                                  â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Kunde   â”‚              â”‚  Admin   â”‚              â”‚   KI     â”‚    â”‚
â”‚  â”‚ Browser  â”‚              â”‚(Tailscaleâ”‚              â”‚Claude APIâ”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                         â”‚                         â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ HTTPS                   â”‚ HTTPS/SSH               â”‚ HTTPS
        â”‚                         â”‚                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SERVER / CLOUD                    â”‚           â”‚
â”‚                                                            â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚
â”‚  â”‚              Nginx Reverse Proxy                    â”‚  â”‚           â”‚
â”‚  â”‚  - SSL/TLS (Let's Encrypt)                         â”‚  â”‚           â”‚
â”‚  â”‚  - Rate Limiting                                    â”‚  â”‚           â”‚
â”‚  â”‚  - Load Balancing                                   â”‚  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚           â”‚
â”‚             â”‚                          â”‚                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚  â”‚    Frontend       â”‚      â”‚      Backend       â”‚         â”‚           â”‚
â”‚  â”‚                   â”‚      â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                     â”‚
â”‚  â”‚  â”‚    React     â”‚ â”‚      â”‚  â”‚   FastAPI    â”‚ â”‚                     â”‚
â”‚  â”‚  â”‚    Vite      â”‚ â”‚      â”‚  â”‚  Uvicorn     â”‚ â”‚                     â”‚
â”‚  â”‚  â”‚  TailwindCSS â”‚ â”‚      â”‚  â”‚  SQLAlchemy  â”‚ â”‚                     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚  â”‚  LangChain   â”‚ â”‚                     â”‚
â”‚  â”‚                   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                     â”‚
â”‚  â”‚  Port: 5173/80   â”‚      â”‚         â”‚          â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  Port: 8000      â”‚                     â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                        â”‚                              â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                   â”‚                    â”‚                    â”‚         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚         â”‚   PostgreSQL     â”‚  â”‚     Redis       â”‚  â”‚    Celery    â”‚  â”‚
â”‚         â”‚   + pgvector     â”‚  â”‚                 â”‚  â”‚    Worker    â”‚  â”‚
â”‚         â”‚                  â”‚  â”‚  Message Broker â”‚  â”‚              â”‚  â”‚
â”‚         â”‚  - Repositories  â”‚  â”‚  Result Backend â”‚  â”‚  - Git Clone â”‚  â”‚
â”‚         â”‚  - Users         â”‚â—€â”€â”¤                 â”‚â—€â”€â”¤  - AI Tasks  â”‚  â”‚
â”‚         â”‚  - Documents     â”‚  â”‚  Cache          â”‚  â”‚  - Analysis  â”‚  â”‚
â”‚         â”‚  - Prompts       â”‚  â”‚                 â”‚  â”‚              â”‚  â”‚
â”‚         â”‚                  â”‚  â”‚  Port: 6379     â”‚  â”‚              â”‚  â”‚
â”‚         â”‚  Port: 5432      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Persistent Storage                         â”‚   â”‚
â”‚  â”‚                                                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Docker Volume   â”‚         â”‚  Host Filesystem         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ postgres_data   â”‚         â”‚  ./data/repos/           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                 â”‚         â”‚  - Git-Repositories      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ - DB Tables     â”‚         â”‚  - Generated Docs        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ - Indexes       â”‚         â”‚                          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ - Extensions    â”‚         â”‚                          â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Datenfluss-Diagramme

### 1. Benutzer-Login (geplant mit Entra ID)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser â”‚â”€â”€1â”€â”€â–¶ â”‚ Frontend â”‚â”€â”€2â”€â”€â–¶ â”‚ Backend  â”‚â”€â”€3â”€â”€â–¶ â”‚PostgreSQLâ”‚
â”‚         â”‚       â”‚          â”‚       â”‚          â”‚       â”‚          â”‚
â”‚         â”‚â—€â”€â”€6â”€â”€ â”‚          â”‚â—€â”€â”€5â”€â”€ â”‚          â”‚â—€â”€â”€4â”€â”€ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                        7  â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Entra ID  â”‚
                                    â”‚ (OAuth2)  â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User klickt "Login"
2. Redirect zu Entra ID OAuth2
3. Backend validiert Token
4. User-Daten aus DB laden
5. Session erstellen
6. JWT-Token zurÃ¼ckgeben
```

---

### 2. Repository klonen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚â”€â”€â”€â–¶â”‚ Backend  â”‚â”€â”€â”€â–¶â”‚PostgreSQLâ”‚    â”‚Redis â”‚    â”‚  Celery  â”‚
â”‚          â”‚ 1  â”‚          â”‚ 2  â”‚          â”‚    â”‚      â”‚    â”‚  Worker  â”‚
â”‚          â”‚    â”‚          â”‚    â”‚          â”‚    â”‚      â”‚    â”‚          â”‚
â”‚          â”‚â—€â”€â”€â”€â”‚          â”‚    â”‚          â”‚    â”‚      â”‚    â”‚          â”‚
â”‚          â”‚ 6  â”‚    â”‚     â”‚    â”‚          â”‚    â”‚      â”‚    â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚     â”‚    â””â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”˜    â””â”€â”€â”€â–²â”€â”€â”˜    â””â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”˜
                â”‚    â”‚ 3   â”‚          â”‚             â”‚            â”‚
                â”‚    â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                â”‚          â”‚          â”‚ 4                        â”‚
                â”‚          â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚          â”‚                   5
                â”‚          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User: POST /api/repos {"url": "https://github.com/..."}
2. Backend: Repository-Eintrag in DB erstellen (status: "pending")
3. Backend: Celery-Task in Redis-Queue schreiben
4. Celery Worker: Task aus Redis holen
5. Celery Worker: Git clone durchfÃ¼hren, Status in DB updaten
6. Frontend: Polling /api/repos/{id} â†’ Status anzeigen
```

**Detaillierter Celery-Flow**:
```python
# Backend (FastAPI)
task = clone_repository.delay(repo_id=uuid)  # â† In Redis-Queue

# Redis speichert:
{
    "task_id": "abc-123",
    "task": "app.worker.tasks_git.clone_repository",
    "args": [repo_id],
    "status": "PENDING"
}

# Celery Worker holt Task:
def clone_repository(repo_id):
    repo = db.query(Repository).get(repo_id)
    repo.status = "cloning"
    db.commit()
    
    git.Repo.clone_from(repo.remote_url, repo.target_dir)
    
    repo.status = "cloned"
    db.commit()
    
    return {"success": True}
```

---

### 3. KI-Dokumentation generieren

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚â”€â”€â”€â–¶â”‚ Backend  â”‚â”€â”€â”€â–¶â”‚PostgreSQLâ”‚    â”‚  Celery  â”‚â”€â”€â”€â–¶â”‚ Claude  â”‚
â”‚          â”‚ 1  â”‚          â”‚ 2  â”‚          â”‚    â”‚  Worker  â”‚ 4  â”‚   API   â”‚
â”‚          â”‚    â”‚          â”‚    â”‚          â”‚    â”‚          â”‚    â”‚         â”‚
â”‚          â”‚â—€â”€â”€â”€â”‚          â”‚    â”‚          â”‚â—€â”€â”€â”€â”‚          â”‚â—€â”€â”€â”€â”‚         â”‚
â”‚          â”‚ 6  â”‚          â”‚    â”‚          â”‚ 5  â”‚          â”‚    â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ 3                              â–²
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
                           Redis Queue

1. User wÃ¤hlt Repository + Prompt-Template
2. Backend: PromptRun-Eintrag erstellen
3. Backend: Task in Queue schreiben
4. Celery: Code laden â†’ LangChain â†’ Claude API
5. Celery: Generierte Dokumentation in DB + Filesystem speichern
6. Frontend: Dokumentation abrufen und anzeigen
```

**LangChain-Integration**:
```python
from langchain_openai import ChatOpenAI
from langchain.prompts import PromptTemplate

# Template laden
template = PromptTemplate.from_template(prompt.template)

# LLM initialisieren
llm = ChatOpenAI(
    api_key=settings.ANTHROPIC_API_KEY,
    model=settings.MODEL_NAME
)

# Code-Dateien laden
code_files = load_repository_files(repo.target_dir)

# Prompt fÃ¼llen
filled_prompt = template.format(
    code=code_files,
    language="Python",
    style="technical"
)

# KI-Antwort generieren
response = llm.invoke(filled_prompt)

# Dokumentation speichern
save_documentation(response.content)
```

---

## ğŸ“Š Komponenten-Matrix

| Komponente | Technologie | Port | Zweck | Daten-Persistenz |
|------------|-------------|------|-------|------------------|
| **Frontend** | React + Vite | 5173 | UI/UX | Keine (Stateless) |
| **Backend** | FastAPI | 8000 | REST API | Keine (Stateless) |
| **PostgreSQL** | PostgreSQL 16 + pgvector | 5432 | Datenbank | Docker Volume `postgres_data` |
| **Redis** | Redis 7 | 6379 | Message Broker & Cache | Optional (RDB/AOF) |
| **Celery** | Celery + Python | - | Background Worker | Keine (Results in Redis) |
| **Nginx** | Nginx | 80/443 | Reverse Proxy + SSL | Keine |
| **Adminer** | Adminer | 8081 | DB-Management UI | Keine |

---

## ğŸ” Sicherheits-Layer

### Netzwerk-Segmentierung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      INTERNET (Public)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ Ports 80, 443 (HTTPS)
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DMZ (Demilitarized Zone)                  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”‚   Nginx    â”‚  Reverse Proxy + SSL Termination           â”‚
â”‚  â”‚ (Firewall) â”‚  Rate Limiting, DDoS Protection            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚        â”‚ Ports 8000, 5173 (Intern)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APPLICATION LAYER                         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Frontend â”‚          â”‚ Backend  â”‚                        â”‚
â”‚  â”‚          â”‚          â”‚          â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                             â”‚ Port 5432 (Intern)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                           â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PostgreSQL  â”‚        â”‚  Redis  â”‚        â”‚  Celery  â”‚  â”‚
â”‚  â”‚ (PRIVATE)   â”‚        â”‚(PRIVATE)â”‚        â”‚ (PRIVATE)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚  Kein direkter Zugriff von auÃŸen!                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Zugriffskontrolle

| Ressource | Ã–ffentlich | Tailscale | Intern |
|-----------|------------|-----------|--------|
| Frontend UI | âœ… HTTPS | âœ… | âœ… |
| Backend API | âœ… HTTPS (Rate Limited) | âœ… | âœ… |
| PostgreSQL | âŒ | âœ… (Admin) | âœ… |
| Redis | âŒ | âŒ | âœ… |
| Adminer | âŒ | âœ… (Admin) | âœ… |
| Celery Flower (Monitoring) | âŒ | âœ… (Admin) | âœ… |

---

## ğŸš€ Deployment-Optionen

### Option 1: Single Server (Klein bis Mittel)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Einzelner Server                   â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Docker Compose Stack             â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚  Frontend + Backend + PostgreSQL   â”‚   â”‚
â”‚  â”‚  Redis + Celery + Nginx             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  Ressourcen:                                â”‚
â”‚  - 4 GB RAM                                 â”‚
â”‚  - 2-4 CPU Cores                            â”‚
â”‚  - 50 GB SSD                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Vorteile: Einfach, kostengÃ¼nstig
Nachteile: Keine High Availability
```

---

### Option 2: Managed Services (Mittel bis GroÃŸ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Server 1   â”‚     â”‚   Server 2   â”‚     â”‚   Server N   â”‚
â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚   Backend    â”‚     â”‚   Backend    â”‚     â”‚   Backend    â”‚
â”‚   Celery     â”‚     â”‚   Celery     â”‚     â”‚   Celery     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚  AWS RDS       â”‚            â”‚  AWS ElastiCacheâ”‚
    â”‚  PostgreSQL    â”‚            â”‚  Redis         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Vorteile: Skalierbar, High Availability, Managed
Nachteile: HÃ¶here Kosten
```

---

### Option 3: Kubernetes (GroÃŸ/Enterprise)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Kubernetes Cluster                     â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend   â”‚  â”‚   Backend    â”‚  â”‚  Celery  â”‚ â”‚
â”‚  â”‚  (3 Pods)    â”‚  â”‚  (5 Pods)    â”‚  â”‚ (3 Pods) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚  Auto-Scaling, Load Balancing, Self-Healing        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                            â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚   AWS RDS   â”‚          â”‚ ElastiCache â”‚
   â”‚ PostgreSQL  â”‚          â”‚    Redis    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Vorteile: Maximale Skalierung, HA, Rolling Updates
Nachteile: Hohe KomplexitÃ¤t, hohe Kosten
```

---

## ğŸ“ˆ Empfohlene Skalierung

| Benutzer | Setup | Kosten/Monat | Ressourcen |
|----------|-------|--------------|------------|
| **1-100** | Single Server (Docker Compose) | $10-30 | 2 GB RAM, 2 Cores |
| **100-1000** | Server + Managed DB | $50-150 | 4 GB RAM, 4 Cores |
| **1000-10k** | Multiple Servers + Managed Services | $200-500 | 8 GB RAM, Load Balancer |
| **10k+** | Kubernetes + CDN | $1000+ | Auto-Scaling Cluster |

---

## ğŸ”— WeiterfÃ¼hrende Dokumentation

- **[Projekt-Architektur](./PROJEKT_ARCHITEKTUR.md)**: Technische Details
- **[Deployment Guide](./DEPLOYMENT_GUIDE.md)**: Server-Setup
- **[FAQ](./FAQ.md)**: HÃ¤ufige Fragen
- **[Quick Start](./QUICK_START.md)**: Schnelleinstieg
